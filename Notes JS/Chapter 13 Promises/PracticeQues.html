<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Practice Ques</title>
    <style>
        body{
            background-color: #2a2a2a;
            color: #fff;
            font-family: Fira Code, monospace;
            font-size: 20px;
            text-align: center;
            padding-top: 100px;
        }
    </style>
</head>
<body>

</body>
<script>
<!--    Qu 1 Write a Program to load a js file in browser using promise use then() to display an alert when the load is complete-->
  // const promise1 = async (src) => {
  //   return new Promise((resolve,reject) =>
  //   {
  //       const script = document.createElement('script');
  //       script.src = src;
  //       script.onload = () => {
  //           resolve(src+ "Loaded");
  //       }
  //       script.onerror = () => {
  //           reject("ERROOR");
  //       }
  //      document.head.append(script);
  //       });
  //   }
  // const main = async () =>{
  //     console.log(new Date())
  //     let p1 = promise1("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js");
  //     console.log(p1)
  // }
  // main();

//*******************************************************************************************************
// Qu 2 Create a Promise which rejects after 3 sec use an async await to get its value and display it use try catch block to handle the error
// let promise2 = new Promise((resolve,reject) => {
//     setTimeout(() => {
//         reject(new Error("Rejected"));
//     },3000);
// });
// let asyncFunc = async() => {
//     try{
//         let result = await promise2;
//         console.log(result);
//     }catch (e) {
//         console.log("These is an Error");
//     }
// }
// asyncFunc();
//*******************************************************************************************************

//Qu 4Write a program using Promise.all() inside an async await to 3 Promise compare its result with the case where we await these promises one by one
const p1 = async () =>{
    return new Promise((resolve,reject) => {
        setTimeout(() => {
            resolve("Promise 1");
        },2000);
    });
}
const p2 = async () =>{
    return new Promise((resolve,reject) => {
        setTimeout(() => {
            resolve("Promise 2");
        },4000);
    });
}
const p3 = async () =>{
    return new Promise((resolve,reject) => {
        setTimeout(() => {
            resolve("Promise 3");
        },6000);
    });
}

let asyncFunc2 = async () => {
    // console.time("start")
    // let res1 = await p1();
    // console.log(res1)
    // let res2 = await p2();
    // console.log(res2)
    // let res3 = await p3();
    // console.log(res3)
    // console.timeEnd("start")
    console.time("Time Taken")
    let prm1 = p1();
    let prm2 = p2();
    let prm3 = p3();
    let res = await Promise.all([prm1,prm2,prm3]); // Parllely Scheduling

    console.log(res)

    console.timeEnd("Time Taken");

}

asyncFunc2();
</script>
</html>